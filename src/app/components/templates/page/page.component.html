<section class="container my-4" style="white-space: pre-wrap;">

  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="" [routerLink]="['/pages/' + page?.category.id]">{{ page?.category.name }}</a></li>
    </ol>
  </nav>

  <div class="jumbotron-image page-border-radius" [style]="'background-image:url(http://localhost:8080/api/v1/resource/' +  page?.image.url + ');'">
    <div class="page-border-radius" style="background-color: rgba(30, 32, 34, 0.6);">
      <div class="jumbotron mb-3 text-white page-border-radius" style="background-color: rgba(0, 0, 0, 0)!important;">
        <p class="display-3">{{ page?.title }}</p>
        <p class="lead">{{ page?.description }}</p>
        <p class="float-right">by <a href="">{{ page?.user.username }}</a> the {{ page?.createdAt| date:'dd MMMM yyyy' }}</p>
      </div>
    </div>
  </div>

  <div *ngIf="page">
    <div *ngFor="let sortedType of page.sortedTypeList">
      <div class="mb-3" *ngIf="sortedType.type === 'ParagraphType'">
        <div *ngFor="let paragraph of page.paragraphList">
          <div *ngIf="paragraph.paragraphType.id === sortedType.typeId" class="jumbotron mb-0 p-4">
            <p class="display-5">{{ paragraph.paragraphType.name }}</p>
            <p class="ml-4 display-6">{{ paragraph.title }}</p>
            <p class="ml-4 text-justify">{{ paragraph.content }}</p>
          </div>
        </div>
      </div>
      <div class="mb-3" *ngIf="sortedType.type === 'ParatagType'">
        <div *ngFor="let paratag of page.paratagList">
          <div *ngIf="paratag.paratagType.id === sortedType.typeId" class="jumbotron mb-0 p-4">
            <p class="display-5">{{ paratag.paratagType.name }}</p>
            <p class="ml-4 display-6">{{ paratag.title }}</p>
            <div *ngIf="paratag.paratagType.size === 'SMALL'" class="d-inline ml-4">
              <div class="d-inline" *ngFor="let tag of paratag.tagList">
                <span class="mr-4 badge rounded-pill bg-primary mr-2" data-toggle="tooltip" data-placement="right" title="{{ tag.description }}">{{ tag.name }}</span>
              </div>
            </div>
            <div class="ml-4" *ngIf="paratag.paratagType.size === 'LARGE'">
              <div class="d-inline" *ngFor="let tag of paratag.tagList">
                <span class="mr-4 badge rounded-pill bg-primary" data-toggle="tooltip" data-placement="right" title="{{ tag.description }}">{{ tag.name }}</span>
              </div>
            </div>
            <p class="ml-4 mt-2 text-justify">{{ paratag.content }}</p>
          </div>
        </div>
      </div>
      <div *ngIf="sortedType.type === 'ParapageType'">

      </div>
    </div>
    <div class="jumbotron mb-0 p-4" *ngIf="recommendedPage && recommendedPage.length !== 0">
      <p class="display-5 mb-3">Recommended pages</p>
      <div class="row">
        <div *ngFor="let search of recommendedPage" class="col col-md-6 mb-3">
            <div class="jumbotron-image zoom" [routerLink]="['/page', search.pageSimplifiedViewDto2List[0].id]" [style]="'background-image:url(http://localhost:8080/api/v1/resource/' + search.pageSimplifiedViewDto2List[0].image.url + ');border-radius: 0.20rem;'">
              <div style="background-color: rgba(30, 32, 34, 0.6);border-radius: 0.25rem;">
                <div class="jumbotron mb-0 p-4 text-white" style="background-color: rgba(0, 0, 0, 0)!important;'">
                  <p class="display-6">{{ search.categoryViewDto.name }} - {{ search.pageSimplifiedViewDto2List[0].title }}</p>
                </div>
              </div>
            </div>
        </div>
      </div>
    </div>
  </div>

</section>
